/*-----------------------------------------------------------------------
<copyright file="sitka.min.js" company="Tahoe Regional Planning Agency and Sitka Technology Group">
Copyright (c) Tahoe Regional Planning Agency and Sitka Technology Group. All rights reserved.
<author>Sitka Technology Group</author>
</copyright>

<license>
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License <http://www.gnu.org/licenses/> for more details.

Source code is available upon request via <support@sitkatech.com>.
</license>
-----------------------------------------------------------------------*/
function getInternetExplorerVersion(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"&&(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i.exec(t)!=null&&(n=parseFloat(RegExp.$1))),n}var SitkaJS,Sitka;jQuery(document).ready(function(){});Number.prototype.formatMoney=function(n,t,i,r){var s=this,u=t,h=i,c,e,f,o=r;return u=isNaN(u=Math.abs(u))?2:u,h=h==undefined?".":h,o=o==undefined?",":o,c=s<0?"-":"",e=parseInt(s=Math.abs(+s||0).toFixed(u))+"",f=(f=e.length)>3?f%3:0,n==undefined&&(n=""),n+c+(f?e.substr(0,f)+o:"")+e.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+o)+(u?h+Math.abs(s-e).toFixed(u).slice(2):"")};jQuery(document).ready(function(){jQuery(".sitka-date-picker").length&&jQuery(".sitka-date-picker").datepicker.length&&jQuery(".sitka-date-picker").datepicker()});SitkaJS={log:function(n){typeof console=="undefined"?window.console&&window.console.log(n):console.log(n)}};String.prototype.isValidDate=function(){var i=new RegExp("^([0-9]{1,2})/([0-9]{1,2})/([0-9]{4})$"),n=i.exec(this),t;return n?(t=new Date(n[3],n[1]-1,n[2]),t.getMonth()==n[1]-1&&t.getDate()==n[2]&&t.getFullYear()==n[3]):!1};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};Sitka={Class:{},NotYetAssignedID:-1,revision:"$Rev$",Methods:{clonePrototype:function(n){if(typeof n!="undefined"){Sitka.Methods.clonePrototype.prototype=Object(n);var t=new Sitka.Methods.clonePrototype;return t.parent=n,t}},stripHtml:function(n){return jQuery("<div>"+n+"<\/div>").text()},checkNumericKeyCode:function(n){n=n||window.event;kCode=n.keyCode||n.which;var t=kCode==189||kCode==109||kCode>=48&&kCode<=57||kCode>=96&&kCode<=105||kCode==110||kCode==190,i=kCode==Event.KEY_BACKSPACE||kCode==Event.KEY_TAB||kCode==Event.KEY_RETURN||kCode==Event.KEY_LEFT||kCode==Event.KEY_RIGHT||kCode==46;if(!t&&!i)return n.stopPropagation()},validateNumber:function(n,t){var i=Number(n.val());return t.html(""),i<0&&(i=NaN),isNaN(i)&&t.html("*"),n.val(isNaN(i)?n.val():i.toFixed(1)),i},setDefaultButton:function(n,t){jQuery(n).keypress(function(n){var r=window.event?event.keyCode:n.keyCode,i=window.event?event:n;r==13&&(i.cancelBubble=!0,i.returnValue=!1,t.click())})},coalesce:function(n,t){return n&&n!="null"?n:t},truncateWithEllipsis:function(n,t){return n?n.length<=t?n:n.substring(0,39)+"...":n},keepTextAreaWithinMaxLength:function(n,t,i,r,u){n.value.length>t&&(n.value=n.value.substring(0,t));Sitka.Methods.textAreaRemainingCharactersUpdate(n,t,i,r,u)},textAreaRemainingCharactersUpdate:function(n,t,i,r,u){var e=t-n.value.length,f=jQuery("#"+r);f.html(u+e);e<=i?f.css({color:"red"}):f.css({color:"#666666"})},EscapeRegExp:function(n){if(!arguments.callee.sRE)arguments.callee.sRE=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");return n.replace(arguments.callee.sRE,"\\$1")},S4:function(){return((1+Math.random())*65536|0).toString(16).substring(1)},newGuid:function(){return(Sitka.Methods.S4()+Sitka.Methods.S4()+"-"+Sitka.Methods.S4()+"-"+Sitka.Methods.S4()+"-"+Sitka.Methods.S4()+"-"+Sitka.Methods.S4()+Sitka.Methods.S4()+Sitka.Methods.S4()).toUpperCase()},createCookie:function(n,t,i){var u,r;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+encodeURIComponent(t)+"; path=/"+u},readCookie:function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1,t.length);if(t.indexOf(r)===0)return decodeURIComponent(t.substring(r.length,t.length))}return null},eraseCookie:function(n){Sitka.Methods.createCookie(n,"",-1)},isUndefinedNullOrEmpty:function(n){return n===undefined||n===null||n.toString()==""},parseFloatFromPercentString:function(n){if(n.indexOf("%")==-1||Sitka.Methods.isUndefinedNullOrEmpty(n))return null;var t=n.toString().replace("%","");return isNaN(t)?null:t},parseFloatFromPercentOrFloatString:function(n){return n.toString().indexOf("%")!=-1?Sitka.Methods.parseFloatFromPercentString(n):isNaN(n)?null:n},formatAsPercentFromString:function(n,t){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":(n.toString().indexOf("%")!=-1&&(n=n.replace("%","")),n=n.toString().replace(/,/gi,""),isNaN(n))?null:Sitka.Methods.formatAsPercent(n,t)},parseFloatFromCurrencyString:function(n){if(Sitka.Methods.isUndefinedNullOrEmpty(n))return null;var t=n.toString().replace("$","").replace(/,/gi,"");return(t=t.toString().replace("(","-").replace(")",""),isNaN(t))?null:t},formatAsCurrencyFromString:function(n,t){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":(n=n.toString().replace(/,/gi,""),n=n.replace("$",""),n=n.replace("(","-").replace(")",""),Sitka.Methods.formatAsCurrency(n,t))},formatAsCurrency:function(n,t){var s,u,e,o,i,c;if(Sitka.Methods.isUndefinedNullOrEmpty(n))return"";isNaN(t)&&(t=0);s=Number(n).toFixed(t);u=String(s);u.indexOf(".")<0&&(u+="."+new Array(t).join("0"));var r=u.split(".",2),h=r[1],f=parseInt(r[0],0);if(isNaN(f))return"";for(e="",o="",f<0&&(e="(",o=")"),i=String(Math.abs(f)),r=[];i.length>3;)c=i.substr(i.length-3),r.unshift(c),i=i.substr(0,i.length-3);return i.length>0&&r.unshift(i),i=r.join(","),n=h.length<1?i:i+"."+h,e+"$"+n+o},formatAsNumberFromString:function(n){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":(n=n.toString().replace(/,/gi,""),n=n.replace("$",""),n.replace("(","-").replace(")",""))},formatAsPercent:function(n,t){var i=Sitka.Methods.formatAsFloat(n,t);return i+"%"},formatAsFloat:function(n,t){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":(isNaN(t)&&(t=0),Number(n).toFixed(t))},formatAsFloatNaNEmptyString:function(n,t){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":(isNaN(t)&&(t=0),isNaN(n))?"":Number(n).toFixed(t)},getUrlParameter:function(n,t){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+n+"=([^&#]*)",u=new RegExp(r),i=u.exec(window.location.href);return i===null?t:i[1]},ajax:function(n){n.dataType==null&&(n.dataType="json");n.type==null&&(n.type="POST");Sitka.ApplicationGlobalErrorHandler!=null&&n.error==null&&(n.error=Sitka.ApplicationGlobalErrorHandler);jQuery.ajax(n)},load:function(n,t,i){i==null&&Sitka.ApplicationGlobalErrorHandler!=null&&(i=function(n,t,i){i.status!=200&&Sitka.ApplicationGlobalErrorHandler()});jQuery(n).load(t,i)},ajaxSetup:function(n){Sitka.ApplicationGlobalErrorHandler=n},enableOrDisableByID:function(n,t){var i=jQuery("#"+n);this.enableOrDisableByJqueryObject(i,t)},enableOrDisableByJqueryObject:function(n,t){t?n.prop("disabled",!1):n.prop("disabled",!0)},populateRadioButtons:function(n,t,i,r,u,f){var o=jQuery("#"+n),e;for(o.html(""),e=0;e<i.length;++e)o.append('<label><input type="radio" name="'+t+'" value="'+i[e][r]+'" />'+i[e][u]+"<\/label>"),e%f==f-1&&o.append("<br />")},populateCheckboxes:function(n,t,i,r,u,f){var o=jQuery("#"+n),e;for(o.html(""),e=0;e<i.length;++e)o.append('<label><input type="checkbox" name="'+t+'" value="'+i[e][r]+'" />'+i[e][u]+"<\/label>"),e%f==f-1&&o.append("<br />")},populateDropDownByName:function(n,t,i,r){var u=jQuery("#"+n);this.populateDropDown(u,t,i,r)},populateDropDown:function(n,t,i,r){var u,f;for(n.find("option").remove(),u=0;u<t.length;++u)f=t[u],n.append('<option value="'+f[i]+'">'+f[r]+"<\/option>");n.find("option").length>0?n.prop("disabled",!1):n.prop("disabled",!0)},populateDropDownAndAddUnknowItem:function(n,t,i,r,u){this.populateDropDown(n,t,i,r);u===undefined&&(u="&lt;Choose one&gt;");n.find("option").length>1&&(n.prepend('<option value="">'+u+"<\/option>"),n.val(""))},toggleCheckboxGroup:function(n,t){jQuery("input[name='"+n+"']").each(function(n,i){i.checked=t})},toggleCheckboxesByClassName:function(n,t){jQuery("input:checkbox"+n).each(function(n,i){i.checked=t})},getCheckboxGroupValues:function(n,t){t==undefined&&(t=",");var i=[];return jQuery("input[name='"+n+"']:checked").each(function(){i.push(jQuery(this).val())}),i.join(t)},findElementIndexInJsonArray:function(n,t,i){for(var r=0;r<n.length;r++)if(n[r][t]==i)return r;return-1},findElementInJsonArray:function(n,t,i){var r=this.findElementIndexInJsonArray(n,t,i);return r>=0?n[r]:null},removeFromJsonArray:function(n,t){var i=n.indexOf(t);n.splice(i,1)},cartesianProductOf:function(){return _.reduce(arguments,function(n,t){return _.flatten(_.map(n,function(n){return _.map(t,function(t){return n.concat([t])})}),!0)},[[]])},htmlEncode:function(n){return Sitka.Methods.isUndefinedNullOrEmpty(n)?"":$("<div/>").text(n).html()},htmlDecode:function(n){return $("<div/>").html(n).text()}},UrlTemplate:function(n){this.urlTemplateString=n;this.Parameter1Int=-2111110001;this.Parameter2Int=-2111110002;this.Parameter3Int=-2111110003;this.Parameter4Int=-2111110004;this.Parameter5Int=-2111110005;this.Parameter6Int=-2111110006;this.Parameter7Int=-2111110007;this.Parameter8Int=-2111110008;this.Parameter9Int=-2111110009;this.Parameter10Int=-2111110010;this.Parameter11Int=-2111110011;this.Parameter12Int=-2111110012;this.Parameter13Int=-2111110013;this.Parameter1String="UrlTemplateParameter1String";this.Parameter2String="UrlTemplateParameter2String";this.Parameter3String="UrlTemplateParameter3String";this.Parameter4String="UrlTemplateParameter4String";this.Parameter5String="UrlTemplateParameter5String";this.Parameter6String="UrlTemplateParameter6String";this.Parameter7String="UrlTemplateParameter7String";this.Parameter8String="UrlTemplateParameter8String";this.Parameter9String="UrlTemplateParameter9String";this.Parameter10String="UrlTemplateParameter10String";this.Parameter11String="UrlTemplateParameter11String";this.Parameter12String="UrlTemplateParameter12String";this.Parameter13String="UrlTemplateParameter13String"}};Sitka.UrlTemplate.prototype.ParameterReplace=function(n,t,i,r,u,f,e,o,s,h,c,l,a){var v=this.urlTemplateString;return v=v.replace(this.Parameter1Int,n),v=v.replace(this.Parameter2Int,t),v=v.replace(this.Parameter3Int,i),v=v.replace(this.Parameter4Int,r),v=v.replace(this.Parameter5Int,u),v=v.replace(this.Parameter6Int,f),v=v.replace(this.Parameter7Int,e),v=v.replace(this.Parameter8Int,o),v=v.replace(this.Parameter9Int,s),v=v.replace(this.Parameter10Int,h),v=v.replace(this.Parameter11Int,c),v=v.replace(this.Parameter12Int,l),v=v.replace(this.Parameter13Int,a),v=v.replace(this.Parameter1String,n),v=v.replace(this.Parameter2String,t),v=v.replace(this.Parameter3String,i),v=v.replace(this.Parameter4String,r),v=v.replace(this.Parameter5String,u),v=v.replace(this.Parameter6String,f),v=v.replace(this.Parameter7String,e),v=v.replace(this.Parameter8String,o),v=v.replace(this.Parameter9String,s),v=v.replace(this.Parameter10String,h),v=v.replace(this.Parameter11String,c),v=v.replace(this.Parameter12String,l),v.replace(this.Parameter13String,a)};
//# sourceMappingURL=sitka.min.js.map
