@using LtInfo.Common.BootstrapWrappers
@using LtInfo.Common.HtmlHelperExtensions
@using Neptune.Web.Models
@using Neptune.Web.Views.Shared
@using Newtonsoft.Json
@using Newtonsoft.Json.Linq
@inherits Neptune.Web.Areas.Trash.Views.OnlandVisualTrashAssessment.FinalizeOVTA

@{ @SetLayout("SiteLayout.cshtml", ViewDataTyped) }

@using (Html.BeginForm("Location", "FieldVisit", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "field-visit-form" }))
{
    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            @Html.LabelWithSugarFor(m => m.AssessmentAreaName)
        </div>
        <div class="col-sm-8">
            @if (ViewDataTyped.OVTA.AssessingNewArea.GetValueOrDefault())
            {
                @Html.TextBoxFor(m => m.AssessmentAreaName, new { @class = "form-control" })
                @Html.ValidationMessageFor(m => m.AssessmentAreaName)
            }
            else
            {
                <span>@ViewDataTyped.OVTA.OnlandVisualTrashAssessmentArea.OnlandVisualTrashAssessmentAreaName</span>
                @Html.HiddenFor(m => m.AssessmentAreaName)
            }
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            @Html.LabelWithSugarFor(m => m.ScoreID)
        </div>
        <div class="col-sm-8">
            @Html.DropDownListFor(m => m.ScoreID, ViewDataTyped.Scores, new { @class = "form-control", style = "width:auto;" })
            @Html.ValidationMessageFor(m => m.Notes)
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            <label>Jurisdiction</label>
        </div>
        <div class="col-sm-8">
            @ViewDataTyped.Jurisdiction.GetDisplayNameAsDetailUrl()
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            <label>Assessment Started On</label>
        </div>
        <div class="col-sm-8">
            @ViewDataTyped.CreatedDate
        </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            <label>Conducted By</label>
        </div>
        <div class="col-sm-8">
            @ViewDataTyped.ConductedByPerson.GetFullNameFirstLastAsUrl()
        </div>
    </div>

    <div class="form-group row">
        <div class="col-sm-4 control-label text-right">
            @Html.LabelWithSugarFor(m => m.Notes)
        </div>
        <div class="col-sm-8">
            @Html.TextAreaWithMaxLengthFor(m => m.Notes, new TextAreaForExtensions.TextAreaDimensions(null, 3), null, new List<string> { "form-control" })
            @Html.ValidationMessageFor(m => m.Notes)
        </div>
    </div>

    <hr />

    <div class="row">
        <div class="col-xs-12 col-sm-2">
            <div><sup>@Html.Raw(BootstrapHtmlHelpers.RequiredIcon)</sup> Required Field</div>
        </div>

        <div class="col-xs-12 col-sm-10" style="text-align: right">
            <button type="submit" class="btn btn-neptune">Finalize <i class="glyphicon glyphicon-chevron-right"></i></button>
        </div>
    </div>
}