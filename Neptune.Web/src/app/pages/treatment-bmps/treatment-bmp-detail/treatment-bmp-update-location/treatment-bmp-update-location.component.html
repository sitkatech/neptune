@if (treatmentBMP$ | async; as treatmentBMP) {
    <page-header [pageTitle]="'Edit Location for ' + treatmentBMP.TreatmentBMPName" [templateAbove]="templateAbove">
        <ng-template #templateAbove>
            <div class="back">
                <a [routerLink]="['/treatment-bmps', treatmentBMPID]" class="back__link">Back to BMP Detail</a>
            </div>
        </ng-template>
    </page-header>

    <app-alert-display></app-alert-display>

    <form [formGroup]="formGroup" class="grid-12">
        <div class="g-col-12">
            <lat-lon-picker [latControl]="formGroup.controls.Latitude" [lonControl]="formGroup.controls.Longitude" [instructionsTemplate]="latLonInstructions">
                <ng-template #latLonInstructions>
                    <div class="lat-lon-instructions">
                        To set the location of the Treatment BMP:
                        <ul>
                            <li>Place the BMP at your current location (using GPS if available) <strong>OR</strong></li>
                            <li>Click on the location of the BMP on the map <strong>OR</strong></li>
                            <li>Directly type in the latitude and longitude</li>
                        </ul>

                        <p class="mt-1">For centralized BMPs, any existing delineation will automatically be re-calculated based on the new saved location.</p>
                    </div>
                </ng-template>
            </lat-lon-picker>
        </div>
    </form>

    <div class="page-footer">
        <button class="btn btn-primary mr-2" (click)="save()" [disabled]="isLoadingSubmit || formGroup.invalid">Save</button>
        <button class="btn btn-secondary" (click)="cancel()">Cancel</button>
    </div>
}
