<div class="field">
    @if (fieldDefinitionName) {
        <field-definition [fieldDefinitionType]="fieldDefinitionName"></field-definition>
    }
    @if (!readOnly) {
        @switch (type) {
            <!-- Text -->
            @case (FormFieldType.Text) {
                <div class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </div>
                <div class="units-wrapper">
                    <input [mask]="mask" type="text" [placeholder]="placeholder" [formControl]="formControl" [name]="name" />
                    @if (units) {
                        <span class="units">{{ units }}</span>
                    }
                </div>
            }
            <!-- Number -->
            @case (FormFieldType.Number) {
                @if (fieldLabel) {
                    <div class="field-label" [class.required]="formControl | isRequired">
                        {{ fieldLabel }}
                    </div>
                }
                <div class="units-wrapper">
                    <input type="number" [placeholder]="placeholder" [formControl]="formControl" [mask]="mask" [name]="name" />
                    @if (units) {
                        <span class="units">{{ units }}</span>
                    }
                </div>
            }
            <!-- Textarea -->
            @case (FormFieldType.Textarea) {
                <div class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </div>
                <textarea [placeholder]="placeholder" [formControl]="formControl" [name]="name"></textarea>
            }
            <!-- RTE -->
            @case (FormFieldType.RTE) {
                <div class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </div>
                <editor #tinyMceEditor [init]="tinyMceEditor | tinyMceConfig" [formControl]="formControl"></editor>
            }
            <!-- Toggle -->
            @case (FormFieldType.Toggle) {
                <label class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </label>
                <div class="switch-container" [style.minHeight]="toggleHeight">
                    <label class="switch">
                        <input type="checkbox" [formControl]="formControl" [name]="name" />
                        <span class="toggle" [attr.check-true]="toggleTrue" [attr.check-false]="toggleFalse"></span>
                    </label>
                </div>
            }
            <!-- Check -->
            @case (FormFieldType.Check) {
                <label class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </label>
                <label class="check-label">
                    <input type="checkbox" [formControl]="formControl" [name]="name" />
                    {{ checkLabel }}
                </label>
            }
            <!-- Date -->
            @case (FormFieldType.Date) {
                <label class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </label>
                <input type="date" [formControl]="formControl" [name]="name" />
            }
            <!-- Select -->
            @case (FormFieldType.Select) {
                @if (fieldLabel) {
                    <label class="field-label" [class.required]="formControl | isRequired">
                        {{ fieldLabel }}
                    </label>
                }
                @if (formInputOptions) {
                    <ng-select
                        class="custom"
                        [items]="formInputOptions"
                        [formControl]="formControl"
                        [multiple]="multiple"
                        bindLabel="Label"
                        bindValue="Value"
                        [placeholder]="placeholder"
                        appendTo="body"
                        dropdownPosition="bottom">
                        (change)="onNgSelectChange($event)"></ng-select
                    >
                }
            }
            <!-- Radio -->
            @case (FormFieldType.Radio) {
                <label class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </label>
                <div class="radio-options">
                    @for (formInputOption of formInputOptions; track formInputOption) {
                        <label>
                            <input type="radio" [formControl]="formControl" [name]="name" [value]="formInputOption.Value" />
                            {{ formInputOption.Label }}
                        </label>
                    }
                </div>
            }
            <!-- File -->

            @case (FormFieldType.File) {
                <div class="field-label" [class.required]="formControl | isRequired">
                    {{ fieldLabel }}
                </div>
                <div class="custom-file-upload">
                    <input
                        type="file"
                        #fileUploadField
                        (change)="onFileChange($event)"
                        [accept]="uploadFileAccepts"
                        [placeholder]="placeholder"
                        [formControl]="formControl"
                        [name]="name" />
                    <span class="file-name" [title]="fileName + fileExtension || 'No file chosen...'">
                        <span class="base"> {{ fileName }} </span>
                        <span class="ext">
                            {{ fileExtension }}
                        </span>
                    </span>
                    <button type="button" class="btn btn-lg btn-primary" (click)="onClickFileUpload($event)">
                        <i class="fas fa-folder-open"></i>
                        Browse
                    </button>
                </div>
                <div class="copy copy-3 pt-2">
                    <em>
                        Maximum total file size should not exceed 500MB. Accepted extensions:
                        <strong>{{ uploadFileAccepts }}</strong>
                    </em>
                </div>
            }
        }
    } @else {
        <div class="field-label" [class.required]="formControl | isRequired">
            {{ fieldLabel }}
        </div>
        <div>
            <span>{{ formControl.getRawValue() }}</span>
            @if (units) {
                <span class="units">{{ units }}</span>
            }
        </div>
    }
    <input-errors [validateFormControl]="formControl"></input-errors>
</div>
